<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/article"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-no-padding">מאמר</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [scrollEvents]="true" fullscreen="true">
<!------------------------------------------article section -------------------------------------------->
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-sm="8" offset-sm="2" class="ion-text-center">
        <div class="container ion-padding">
        <ion-text>
          <h1>{{ article?.title }}</h1>
        </ion-text>
        <ion-text>
          <h3>{{ article?.subtitle }}</h3>
        </ion-text>
        <ion-text>
          <p>נכתב ע"י {{ getAuthorFullName() }} בתאריך {{ article?.date | date  }}</p>
        </ion-text>
        <ion-textarea>{{ article?.body }}</ion-textarea>
      </div>
      </ion-col>
    </ion-row>
<!------------------------------------------comments section -------------------------------------------->
    <ion-row>
      <ion-col size="12" size-sm="8" offset-sm="2" class="ion-text-center">
        <ion-list *ngIf="article.comments > 0">
          <div class="comment-item" *ngFor="let comment of comments">
            <app-comment [comment]="comment"></app-comment>
          </div>
        </ion-list>
      </ion-col>
    </ion-row>
<!------------------------------------------add comment section -------------------------------------------->
    <!-- <ion-row>
      <ion-col size="12" size-sm="8" offset-sm="2" class="ion-text-center">
        <form #f="ngForm" (ngSubmit)="onSubmit(f)" class="comment-form">
                <ion-list class="ion-padding">
                  <ion-item lines="none">
                    <ion-title class="ion-no-padding">הוסף תגובה</ion-title>
                  </ion-item>
                  <ion-item>
                    <ion-label position="floating">כותרת<ion-text color="danger">*</ion-text></ion-label>
                    <ion-input
                      type="text"
                      ngModel
                      name="title"
                      required
                      #titleCtrl="ngModel"
                    ></ion-input>
                    <ion-icon name="text-outline" slot="end" position="floating" class="ion-align-self-center"></ion-icon>
                  </ion-item>
                  <ion-item
                  *ngIf="!titleCtrl.valid && titleCtrl.touched"
                  lines="none">
                  <ion-label color="danger">
                    זהו שדה חובה!
                  </ion-label>
                </ion-item>
                  <ion-item>
                    <ion-label position="floating"> תגובה <ion-text color="danger">*</ion-text></ion-label>
                    <ion-textarea
                      auto-grow="true"
                      ngModel
                      name="body"
                      required
                      #bodyCtrl="ngModel"
                    ></ion-textarea>
                    <ion-icon name="create-outline" slot="end" position="floating" class="ion-align-self-center"></ion-icon>
                  </ion-item>
                  <ion-item
                  *ngIf="!bodyCtrl.valid && bodyCtrl.touched"
                  lines="none">
                  <ion-label color="danger">
                    זהו שדה חובה!
                  </ion-label>
                </ion-item >
                <ion-button
                  class="ion-float-end"
                  type="submit"
                  color="primary"
                  slot="start"
                  [disabled]="!f.valid"
                >
                <ion-icon name="send" slot="icon-only"></ion-icon>
                </ion-button>
              </ion-list>
        </form>
      </ion-col>
    </ion-row> -->
    <ion-row>
      <ion-col>
        <div class="spacer-div"></div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
<ion-toolbar color="light">
  <form #f="ngForm" (ngSubmit)="onSubmit(f)" class="comment-form">
    <ion-row class="ion-align-items-center ion-no-padding">
      <ion-col size="1" size-lg="1" size-sm="2" size-xs="2">
        <ion-button
        class="btn-send"
        type="submit"
        color="primary"
        fill="clear"
        expand="block"
        [disabled]="!f.valid">
      <ion-icon name="send" slot="start"></ion-icon>
      </ion-button>
      </ion-col>
      <ion-col size="10" size-lg="10" size-sm="10" size-xs="9">
        <ion-textarea
          auto-grow="false"
          ngModel
          name="body"
          autosize
          maxRows="4"
          required
          #bodyCtrl="ngModel"
          placeholder="הוסף תגובה"
          class="comment-input"
        ></ion-textarea>
      </ion-col>
    </ion-row>
 </form>
</ion-toolbar>
</ion-footer>