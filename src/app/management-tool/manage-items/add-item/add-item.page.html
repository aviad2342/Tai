<ion-header>
  <ion-toolbar>
    <ion-title>הוספת מוצר</ion-title>
  </ion-toolbar>
  <ion-segment #categorySegment (ionChange)="onCategoryChosen($event)" [value]="categories.BOOKS" class="add-participant-segment">
    <ion-segment-button [value]="categories.BOOKS">{{ categories.BOOKS }}</ion-segment-button>
    <ion-segment-button [value]="categories.LECTURES">{{ categories.LECTURES }}</ion-segment-button>
    <ion-segment-button [value]="categories.TREATMENTS">{{ categories.TREATMENTS }}</ion-segment-button>
    <ion-segment-button [value]="categories.CONFERENCES">{{ categories.CONFERENCES }}</ion-segment-button>
    <ion-segment-button [value]="categories.ARTICLES">{{ categories.ARTICLES }}</ion-segment-button>
    <ion-segment-button [value]="categories.ACCESSORIES">{{ categories.ACCESSORIES }}</ion-segment-button>
    <ion-segment-button [value]="categories.OTHER">{{ categories.OTHER }}</ion-segment-button>
  </ion-segment>
</ion-header>

<ion-content>
  <ion-slides #addItemSlides [options]="slideOpts">
        <!------------------------------------- Add New Form Slide ----------------------------------------------->
        <ion-slide>
          <form #f="ngForm" (ngSubmit)="onSubmit(f)">
            <ion-grid>
    
              <ion-row class="ion-justify-content-center">
                <ion-col size="12" size-sm="10">
                  <app-image-picker 
                  [showPreview]="this.file" 
                  (imagePick)="onImagePicked($event)" 
                  class="ion-padding">
                </app-image-picker>
                </ion-col>
              </ion-row>
    
              <ion-row class="ion-justify-content-center">
                <ion-col size="12" size-sm="10">
                  <ion-list>
    
                    <ion-item>
                      <ion-label position="floating"> שם המוצר <ion-text color="danger">*</ion-text></ion-label>
                      <ion-input
                        type="text"
                        ngModel
                        name="firstName"
                        required
                        #firstNameCtrl="ngModel"
                      ></ion-input>
                      <ion-icon name="text-outline" slot="end" position="floating" class="ion-align-self-center"></ion-icon>
                    </ion-item>
                    <ion-item
                    *ngIf="!firstNameCtrl.valid && firstNameCtrl.touched"
                    lines="none">
                    <ion-label color="danger">
                      זהו שדה חובה!
                    </ion-label>
                  </ion-item>
    
                    <ion-item>
                      <ion-label position="floating"> תיאור המוצר <ion-text color="danger">*</ion-text></ion-label>
                      <ion-input
                        type="text"
                        ngModel
                        name="lastName"
                        required
                        #lastNameCtrl="ngModel"
                      ></ion-input>
                      <ion-icon name="text-outline" slot="end" position="floating" class="ion-align-self-center"></ion-icon>
                    </ion-item>
                    <ion-item
                    *ngIf="!lastNameCtrl.valid && lastNameCtrl.touched"
                    lines="none">
                    <ion-label color="danger">
                      זהו שדה חובה!
                    </ion-label>
                  </ion-item>
    
                    <ion-item>
                      <ion-label position="floating"> מחיר <ion-text color="danger">*</ion-text></ion-label>
                      <ion-input
                        type="number"
                        inputmode="numeric"
                        ngModel
                        name="price"
                        required
                        #priceCtrl="ngModel"
                      ></ion-input>
                      <ion-icon name="at" slot="end" position="floating" class="ion-align-self-center"></ion-icon>
                    </ion-item>
                    <ion-item
                      *ngIf="!priceCtrl.valid && priceCtrl.touched"
                      lines="none">
                      <ion-label color="danger">
                        זהו שדה חובה!
                      </ion-label>
                    </ion-item>
    
                    <ion-item>
                      <ion-label position="floating"> כמות <ion-text color="danger">*</ion-text></ion-label>
                      <ion-input
                        type="number"
                        ngModel
                        name="quantity"
                        required
                        placeholder="getCurrency(0)"
                        #quantityCtrl="ngModel"
                      ></ion-input>
                      <ion-icon name="call-outline" slot="end" position="floating" class="ion-align-self-center"></ion-icon>
                    </ion-item>
                    <ion-item
                      *ngIf="!quantityCtrl.valid && quantityCtrl.touched"
                      lines="none">
                      <ion-label color="danger">
                        זהו שדה חובה!
                      </ion-label>
                    </ion-item>
                  </ion-list>
                </ion-col>
              </ion-row>
    
            </ion-grid>
          </form>
        </ion-slide>
    <!------------------------------------- Add From List Slide ----------------------------------------------->
        <ion-slide>
          <!-- <ion-grid>
          <ion-row class="ion-justify-content-center">
            <ion-col size="12" size-sm="10">
              <ion-virtual-scroll
              [items]="users"
              approxItemHeight="60px"
            >
            <ion-item *virtualItem="let user">
              <ion-avatar size="medium" slot="start">
                <ion-img [src]="user.profilePicture"></ion-img>
              </ion-avatar>
              <ion-label>
                <h2>{{ getUserFullName(user) }}</h2>
                <ion-text color="medium">
                  <p>{{ user.email }}</p>
                </ion-text>
              </ion-label>
              <ion-button color="primary" fill="outline" slot="end" (click)="onAddParticipant(user)">
                <ion-icon name="person-add-outline" ></ion-icon>
                <ion-label>הוסף משתתף</ion-label>
              </ion-button>
            </ion-item>
            </ion-virtual-scroll>
            </ion-col>
          </ion-row>
        </ion-grid> -->
        </ion-slide>

    
      </ion-slides>
    
</ion-content>
